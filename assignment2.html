<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>HCDE 439 Physical Computing Page</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h2>FADEe...</h2>
            <p>
            <img src="a2.jpeg" width=750></a>
            </p>
            <p>
                Here is my breadboard with 2 LED lights and a light sensor that controls those LEDs.
            </p>
    
            <h3>
            Assignment
            </h3>
            <p>
            For this assignment, I connected 2 LED's to a light sensor on my breadboard.
                I wanted to represent the lighting of my room throughout the day. When the sun is out, I have a bright white light on.
                When the sun sets, I have a color fading bedside lamp. 
                On this board, the light sensor senses the brightness to control which LED is turned on. When it is bright out, the white LED is turned on. 
                When it is darker out, the RBG LED is turned on. 
            </p>
    
            <h3>
            The Schematic
            </h3>
            <p>
            <img src="a2-schematics.png" width=1000></a>
            </p>
            <p>
            This is the schematic for my LED lights fading. 
                
                I am using Ohm's Law, V=IR, to calculate the resistance needed for 20 mA curent to flow through each of the LEDs. 
                I have done two calculations for the two voltage drops that are seen in the LED lights. 
                Blue and white see a 3.3V drop, while red, yellow, and green see a 1.8V drop. 
                Because I do not have resistors with the exact values 85 and 160 ohms, I used 100 ohms and 220 ohm respectively. 
            </p>

            <h3>
            The Code
            </h3>
            <pre>
                <code>
const int R = 11;
const int G = 10;
const int B = 9;
const int W = 8;

void setup() {
  Serial.begin(9600);       // initialize serial communication at 9600 bits per second

  pinMode(R, OUTPUT);
  pinMode(G, OUTPUT);
  pinMode(B, OUTPUT);
  pinMode(W, OUTPUT);
}

// the loop routine runs over and over again forever
void loop() {
  int sensorValue = analogRead(A0);                       // read the analog in value
  int outputValue = map(sensorValue, 500, 900, 255, 0);   // map it to the range of the analog out

  while(sensorValue < 700){
    digitalWrite(W, LOW);
    for(int i = 0; i < 256 && sensorValue < 700;i+=10){
      sensorValue = analogRead(A0);
      analogWrite(B, i);
      delay(100);
    }
    for(int i = 0; i < 256 && sensorValue < 700;i+=10){
      sensorValue = analogRead(A0);
      analogWrite(G, i);
      delay(100);
    }
    for(int i = 0; i < 256  && sensorValue < 700;i+=10){
      sensorValue = analogRead(A0);
      analogWrite(R, i);
      delay(100);
    }
  }
  digitalWrite(W, HIGH);
  analogWrite(R, 0);
  analogWrite(B, 0);
  analogWrite(G, 0);
}
                </code>
            </pre>
            <p>
            This is the code I used to develop the behavior I wanted. See the comments in the code for further explanations.  
            </p>

            <h3>
            Lights out, party time!
            </h3>
            <p>
            <img src="a2-fade.gif" width=750></a>
            </p>
            <p>
            Turn on the lights for a focused, white light; turn out the lights for party-like fading lights! 
            </p>


        </div>
        
    </body>
</html>
